---
title: 权限及权限管理
categories: Linux
date: 2018-03-18 11:25:34
tags:
- Linux权限管理
- 组、用户权限
---

# Linux账号及权限设置

* 由于Linux是一个多人工作环境，不同的人得有不同的权限设置，而每个人登陆Linux，都必须一个账号。所以，产生了用户和用户组的概念。
* 文件或目录权限包括

| 权限   | 代码   | 数字代号 |
| ---- | ---- | ---- |
| 读    | r    |      |
| 写    | w    |      |
| 执行   | x    | 1    |

* 对于文件或目录，拥有不同权限意味着

| 权限   | 文件     | 目录      |
| ---- | ------ | ------- |
| 4/r  | 查看文件内容 | 列出目录内容  |
| 2/w  | 修改文件内容 | 新建或删除目录 |
| 1/x  | 执行文件   | 进入目录    |



## 用户与用户组

* 每个用户有不同的权限，将需要权限相同的人放在一起，形成一个组，从而产生了用户组（group）。
* Linux中，有一个超级管理员，也就是系统管理员(Linux)，用这个用户登陆，可以为所欲为。
* 相关的文件都在`/etc/passwd或者/etc/group`中。
* 每个用户都有特定的用户代号（UID）和组代号（GID）。

## 用户与用户组的增加和删除

* 只有系统管理员才有权限做这些事情。所以，要做这些事情，得需要`sudo ...`。（暂时得到管理员的权限）

### 用户组

1. 增加用户组

   `groupadd 组名`

2. 删除组

   `groupdel 组名`

3. 修改文件/目录的组

   `chgrp 文件/目录 组名`

### 用户

* 增加用户有两个步骤
  1. 增加用户
  2. 指定密码

1. 增加用户

   `useradd -m [-g 组] 用户名`

   -m选项，在建立用户的时候，自动建立好用户的家目录。-g选项可以指定用户所属的组，如果不指定，则自动建立一个和用户名相同的组名。

2. 删除用户

   `userdel -r 用户名`

   自动删除用户及用户的家目录。

3. 查看用户信息

   `id 用户名`

## 权限修改

1. `chmod`修改所有者/组/其他人的权限

   * `chmod +/- rwx 文件/目录`。//只能修改所有者的权限。


   * `chmod 777 文件/目录`。//三个数字分别对应拥有者，所属组，其他人。数字的含义就是前面的4（读） 2（写） 1（执行）相加的结果。

2. `chown`修改文件/目录拥有者

   * `chown 拥有者 文件/目录`。

3. `chgrp`修改文件/目录所属组

   * `chgrp 组 文件/目录`。 